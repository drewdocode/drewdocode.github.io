var processFn=function(n,e,t){return function(){for(var r=this,u=new Array(arguments.length),i=0;i<arguments.length;i++)u[i]=arguments[i];return new e(function(e,i){u.push(function(n,r){if(n)i(n);else if(t.multiArgs){for(var u=new Array(arguments.length-1),o=1;o<arguments.length;o++)u[o-1]=arguments[o];e(u)}else e(r)}),n.apply(r,u)})}},pify=module.exports=function(n,e,t){"function"!=typeof e&&(t=e,e=Promise),t=t||{},t.exclude=t.exclude||[/.+Sync$/];var r=function(n){var e=function(e){return"string"==typeof e?n===e:e.test(n)};return t.include?t.include.some(e):!t.exclude.some(e)},u="function"==typeof n?function(){return t.excludeMain?n.apply(this,arguments):processFn(n,e,t).apply(this,arguments)}:{};return Object.keys(n).reduce(function(u,i){var o=n[i];return u[i]="function"==typeof o&&r(i)?processFn(o,e,t):o,u},u)};pify.all=pify;