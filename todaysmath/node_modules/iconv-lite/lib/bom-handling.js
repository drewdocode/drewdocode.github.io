function PrependBOMWrapper(r,e){this.encoder=r,this.addBOM=!0}function StripBOMWrapper(r,e){this.decoder=r,this.pass=!1,this.options=e||{}}var BOMChar="\ufeff";exports.PrependBOM=PrependBOMWrapper,PrependBOMWrapper.prototype.write=function(r){return this.addBOM&&(r=BOMChar+r,this.addBOM=!1),this.encoder.write(r)},PrependBOMWrapper.prototype.end=function(){return this.encoder.end()},exports.StripBOM=StripBOMWrapper,StripBOMWrapper.prototype.write=function(r){var e=this.decoder.write(r);return this.pass||!e?e:(e[0]===BOMChar&&(e=e.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,e)},StripBOMWrapper.prototype.end=function(){return this.decoder.end()};