module.exports=function(a,r,e){var t,s,o=" ",i=a.level,d=a.dataLevel,l=a.schema[r],h=a.schemaPath+a.util.getProperty(r),v=a.errSchemaPath+"/"+r,c=!a.opts.allErrors,n="data"+(d||""),m="valid"+i,u="errs__"+i,p=a.opts.$data&&l&&l.$data;p?(o+=" var schema"+i+" = "+a.util.getData(l.$data,d,a.dataPathArr)+"; ",s="schema"+i):s=l;var f,P,y,E,w,k=this,g="definition"+i,R=k.definition,S="";if(p&&R.$data){w="keywordValidate"+i;var b=R.validateSchema;o+=" var "+g+" = RULES.custom['"+r+"'].definition; var "+w+" = "+g+".validate;"}else{if(!(E=a.useCustomRule(k,l,a.schema,a)))return;s="validate.schema"+h,w=E.code,f=R.compile,P=R.inline,y=R.macro}var $=w+".errors",A="i"+i,D="ruleErr"+i,V=R.async;if(V&&!a.async)throw new Error("async keyword in sync schema");if(P||y||(o+=$+" = null;"),o+="var "+u+" = errors;var "+m+";",p&&R.$data&&(S+="}",o+=" if ("+s+" === undefined) { "+m+" = true; } else { ",b&&(S+="}",o+=" "+m+" = "+g+".validateSchema("+s+"); if ("+m+") { ")),P)R.statements?o+=" "+E.validate+" ":o+=" "+m+" = "+E.validate+"; ";else if(y){var x=a.util.copy(a),S="";x.level++;var C="valid"+x.level;x.schema=E.validate,x.schemaPath="";var L=a.compositeRule;a.compositeRule=x.compositeRule=!0;var Q=a.validate(x).replace(/validate\.schema/g,w);a.compositeRule=x.compositeRule=L,o+=" "+Q}else{var _=_||[];_.push(o),o="",o+="  "+w+".call( ",a.opts.passContext?o+="this":o+="self",f||!1===R.schema?o+=" , "+n+" ":o+=" , "+s+" , "+n+" , validate.schema"+a.schemaPath+" ",o+=" , (dataPath || '')",'""'!=a.errorPath&&(o+=" + "+a.errorPath);var U=d?"data"+(d-1||""):"parentData",j=d?a.dataPathArr[d]:"parentDataProperty";o+=" , "+U+" , "+j+" , rootData )  ";var q=o;o=_.pop(),!1===R.errors?(o+=" "+m+" = ",V&&(o+="await "),o+=q+"; "):V?($="customErrors"+i,o+=" var "+$+" = null; try { "+m+" = await "+q+"; } catch (e) { "+m+" = false; if (e instanceof ValidationError) "+$+" = e.errors; else throw e; } "):o+=" "+$+" = null; "+m+" = "+q+"; "}if(R.modifying&&(o+=" if ("+U+") "+n+" = "+U+"["+j+"];"),o+=""+S,R.valid)c&&(o+=" if (true) { ");else{o+=" if ( ",void 0===R.valid?(o+=" !",o+=y?""+C:""+m):o+=" "+!R.valid+" ",o+=") { ",t=k.keyword;var _=_||[];_.push(o),o="";var _=_||[];_.push(o),o="",!1!==a.createErrors?(o+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { keyword: '"+k.keyword+"' } ",!1!==a.opts.messages&&(o+=" , message: 'should pass \""+k.keyword+"\" keyword validation' "),a.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+n+" "),o+=" } "):o+=" {} ";var z=o;o=_.pop(),!a.compositeRule&&c?a.async?o+=" throw new ValidationError(["+z+"]); ":o+=" validate.errors = ["+z+"]; return false; ":o+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=o;o=_.pop(),P?R.errors?"full"!=R.errors&&(o+="  for (var "+A+"="+u+"; "+A+"<errors; "+A+"++) { var "+D+" = vErrors["+A+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+v+'"; } ',a.opts.verbose&&(o+=" "+D+".schema = "+s+"; "+D+".data = "+n+"; "),o+=" } "):!1===R.errors?o+=" "+B+" ":(o+=" if ("+u+" == errors) { "+B+" } else {  for (var "+A+"="+u+"; "+A+"<errors; "+A+"++) { var "+D+" = vErrors["+A+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+v+'"; } ',a.opts.verbose&&(o+=" "+D+".schema = "+s+"; "+D+".data = "+n+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==a.createErrors?(o+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { keyword: '"+k.keyword+"' } ",!1!==a.opts.messages&&(o+=" , message: 'should pass \""+k.keyword+"\" keyword validation' "),a.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+n+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&c&&(a.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===R.errors?o+=" "+B+" ":(o+=" if (Array.isArray("+$+")) { if (vErrors === null) vErrors = "+$+"; else vErrors = vErrors.concat("+$+"); errors = vErrors.length;  for (var "+A+"="+u+"; "+A+"<errors; "+A+"++) { var "+D+" = vErrors["+A+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+a.errorPath+";  "+D+'.schemaPath = "'+v+'";  ',a.opts.verbose&&(o+=" "+D+".schema = "+s+"; "+D+".data = "+n+"; "),o+=" } } else { "+B+" } "),o+=" } ",c&&(o+=" else { ")}return o};