module.exports=function(a,r,t){var e=" ",o=a.level,s=a.dataLevel,i=a.schema[r],n=a.schemaPath+a.util.getProperty(r),f=a.errSchemaPath+"/"+r,c=!a.opts.allErrors,m="data"+(s||"");if(!1===a.opts.format)return c&&(e+=" if (true) { "),e;var u,h=a.opts.$data&&i&&i.$data;h?(e+=" var schema"+o+" = "+a.util.getData(i.$data,s,a.dataPathArr)+"; ",u="schema"+o):u=i;var l=a.opts.unknownFormats,v=Array.isArray(l);if(h){var d="format"+o,p="isObject"+o,y="formatType"+o;e+=" var "+d+" = formats["+u+"]; var "+p+" = typeof "+d+" == 'object' && !("+d+" instanceof RegExp) && "+d+".validate; var "+y+" = "+p+" && "+d+".type || 'string'; if ("+p+") { ",a.async&&(e+=" var async"+o+" = "+d+".async; "),e+=" "+d+" = "+d+".validate; } if (  ",h&&(e+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "),e+=" (","ignore"!=l&&(e+=" ("+u+" && !"+d+" ",v&&(e+=" && self._opts.unknownFormats.indexOf("+u+") == -1 "),e+=") || "),e+=" ("+d+" && "+y+" == '"+t+"' && !(typeof "+d+" == 'function' ? ",a.async?e+=" (async"+o+" ? await "+d+"("+m+") : "+d+"("+m+")) ":e+=" "+d+"("+m+") ",e+=" : "+d+".test("+m+"))))) {"}else{var d=a.formats[i];if(!d){if("ignore"==l)return a.logger.warn('unknown format "'+i+'" ignored in schema at path "'+a.errSchemaPath+'"'),c&&(e+=" if (true) { "),e;if(v&&l.indexOf(i)>=0)return c&&(e+=" if (true) { "),e;throw new Error('unknown format "'+i+'" is used in schema at path "'+a.errSchemaPath+'"')}var p="object"==typeof d&&!(d instanceof RegExp)&&d.validate,y=p&&d.type||"string";if(p){var g=!0===d.async;d=d.validate}if(y!=t)return c&&(e+=" if (true) { "),e;if(g){if(!a.async)throw new Error("async format in sync schema");var w="formats"+a.util.getProperty(i)+".validate";e+=" if (!(await "+w+"("+m+"))) { "}else{e+=" if (! ";var w="formats"+a.util.getProperty(i);p&&(w+=".validate"),e+="function"==typeof d?" "+w+"("+m+") ":" "+w+".test("+m+") ",e+=") { "}}var P=P||[];P.push(e),e="",!1!==a.createErrors?(e+=" { keyword: 'format' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(f)+" , params: { format:  ",e+=h?""+u:""+a.util.toQuotedString(i),e+="  } ",!1!==a.opts.messages&&(e+=" , message: 'should match format \"",e+=h?"' + "+u+" + '":""+a.util.escapeQuotes(i),e+="\"' "),a.opts.verbose&&(e+=" , schema:  ",e+=h?"validate.schema"+n:""+a.util.toQuotedString(i),e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),e+=" } "):e+=" {} ";var E=e;return e=P.pop(),!a.compositeRule&&c?a.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",c&&(e+=" else { "),e};