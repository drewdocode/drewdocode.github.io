module.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,p=e.schema[r],i=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,n="data"+(o||""),h="errs__"+s,c=e.util.copy(e),d="";c.level++;var v="valid"+c.level,P={},m={},g=e.opts.ownProperties;for(E in p){var y=p[E],f=Array.isArray(y)?m:P;f[E]=y}a+="var "+h+" = errors;";var Q=e.errorPath;a+="var missing"+s+";";for(var E in m)if(f=m[E],f.length){if(a+=" if ( "+n+e.util.getProperty(E)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(E)+"') "),u){a+=" && ( ";var j=f;if(j)for(var w,b=-1,O=j.length-1;b<O;){w=j[b+=1],b&&(a+=" || ");var S=e.util.getProperty(w),_=n+S;a+=" ( ( "+_+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(w)+"') "),a+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:S)+") ) "}a+=")) {  ";var C="missing"+s,R="' + "+C+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(Q,C,!0):Q+" + "+C);var k=k||[];k.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+R+"', depsCount: "+f.length+", deps: '"+e.util.escapeQuotes(1==f.length?f[0]:f.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==f.length?a+="property "+e.util.escapeQuotes(f[0]):a+="properties "+e.util.escapeQuotes(f.join(", ")),a+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),a+=" } "):a+=" {} ";var x=a;a=k.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+x+"]); ":a+=" validate.errors = ["+x+"]; return false; ":a+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var A=f;if(A)for(var w,D=-1,I=A.length-1;D<I;){w=A[D+=1];var S=e.util.getProperty(w),R=e.util.escapeQuotes(w),_=n+S;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Q,w,e.opts.jsonPointers)),a+=" if ( "+_+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(w)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+R+"', depsCount: "+f.length+", deps: '"+e.util.escapeQuotes(1==f.length?f[0]:f.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==f.length?a+="property "+e.util.escapeQuotes(f[0]):a+="properties "+e.util.escapeQuotes(f.join(", ")),a+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",u&&(d+="}",a+=" else { ")}e.errorPath=Q;var L=c.baseId;for(var E in P){var y=P[E];e.util.schemaHasRules(y,e.RULES.all)&&(a+=" "+v+" = true; if ( "+n+e.util.getProperty(E)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(E)+"') "),a+=") { ",c.schema=y,c.schemaPath=i+e.util.getProperty(E),c.errSchemaPath=l+"/"+e.util.escapeFragment(E),a+="  "+e.validate(c)+" ",c.baseId=L,a+=" }  ",u&&(a+=" if ("+v+") { ",d+="}"))}return u&&(a+="   "+d+" if ("+h+" == errors) {"),a=e.util.cleanUpCode(a)};