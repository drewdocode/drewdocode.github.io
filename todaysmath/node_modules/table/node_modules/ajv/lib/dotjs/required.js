module.exports=function(r,e,a){var t=" ",s=r.level,o=r.dataLevel,i=r.schema[e],h=r.schemaPath+r.util.getProperty(e),p=r.errSchemaPath+"/"+e,l=!r.opts.allErrors,d="data"+(o||""),u="valid"+s,v=r.opts.$data&&i&&i.$data;v&&(t+=" var schema"+s+" = "+r.util.getData(i.$data,o,r.dataPathArr)+"; ");var P="schema"+s;if(!v)if(i.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var n=[],m=i;if(m)for(var c,y=-1,g=m.length-1;y<g;){c=m[y+=1];var f=r.schema.properties[c];f&&r.util.schemaHasRules(f,r.RULES.all)||(n[n.length]=c)}}else var n=i;if(v||n.length){var E=r.errorPath,q=v||n.length>=r.opts.loopRequired,w=r.opts.ownProperties;if(l)if(t+=" var missing"+s+"; ",q){v||(t+=" var "+P+" = validate.schema"+h+"; ");var S="i"+s,b="schema"+s+"["+S+"]",j="' + "+b+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,b,r.opts.jsonPointers)),t+=" var "+u+" = true; ",v&&(t+=" if (schema"+s+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+s+")) "+u+" = false; else {"),t+=" for (var "+S+" = 0; "+S+" < "+P+".length; "+S+"++) { "+u+" = "+d+"["+P+"["+S+"]] !== undefined ",w&&(t+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+P+"["+S+"]) "),t+="; if (!"+u+") break; } ",v&&(t+="  }  "),t+="  if (!"+u+") {   ";var D=D||[];D.push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var O=t;t=D.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+O+"]); ":t+=" validate.errors = ["+O+"]; return false; ":t+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else{t+=" if ( ";var Q=n;if(Q)for(var _,S=-1,k=Q.length-1;S<k;){_=Q[S+=1],S&&(t+=" || ");var R=r.util.getProperty(_),A=d+R;t+=" ( ( "+A+" === undefined ",w&&(t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+r.util.escapeQuotes(_)+"') "),t+=") && (missing"+s+" = "+r.util.toQuotedString(r.opts.jsonPointers?_:R)+") ) "}t+=") {  ";var b="missing"+s,j="' + "+b+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(E,b,!0):E+" + "+b);var D=D||[];D.push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var O=t;t=D.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+O+"]); ":t+=" validate.errors = ["+O+"]; return false; ":t+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else if(q){v||(t+=" var "+P+" = validate.schema"+h+"; ");var S="i"+s,b="schema"+s+"["+S+"]",j="' + "+b+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,b,r.opts.jsonPointers)),v&&(t+=" if ("+P+" && !Array.isArray("+P+")) {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+P+" !== undefined) { "),t+=" for (var "+S+" = 0; "+S+" < "+P+".length; "+S+"++) { if ("+d+"["+P+"["+S+"]] === undefined ",w&&(t+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+P+"["+S+"]) "),t+=") {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",v&&(t+="  }  ")}else{var x=n;if(x)for(var _,$=-1,L=x.length-1;$<L;){_=x[$+=1];var R=r.util.getProperty(_),j=r.util.escapeQuotes(_),A=d+R;r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(E,_,r.opts.jsonPointers)),t+=" if ( "+A+" === undefined ",w&&(t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+r.util.escapeQuotes(_)+"') "),t+=") {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r.errorPath=E}else l&&(t+=" if (true) {");return t};