function addKeyword(e,r){function t(e,r,t){for(var o,a=0;a<i.length;a++){var d=i[a];if(d.type==r){o=d;break}}o||(o={type:r,rules:[]},i.push(o));var n={keyword:e,definition:t,custom:!0,code:customRuleCode,implements:t.implements};o.rules.push(n),i.custom[e]=n}function o(e){if(!i.types[e])throw new Error("Unknown type "+e)}var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!IDENTIFIER.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){if(r.macro&&void 0!==r.valid)throw new Error('"valid" option cannot be used with macro keywords');var a=r.type;if(Array.isArray(a)){var d,n=a.length;for(d=0;d<n;d++)o(a[d]);for(d=0;d<n;d++)t(e,a[d],r)}else a&&o(a),t(e,a,r);var s=!0===r.$data&&this._opts.$data;if(s&&!r.validate)throw new Error('$data support: "validate" function is not defined');var l=r.metaSchema;l&&(s&&(l={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),r.validateSchema=this.compile(l,!0))}return i.keywords[e]=i.all[e]=!0,this}function getKeyword(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1}function removeKeyword(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var o=r[t].rules,i=0;i<o.length;i++)if(o[i].keyword==e){o.splice(i,1);break}return this}var IDENTIFIER=/^[a-z_$][a-z0-9_$-]*$/i,customRuleCode=require("./dotjs/custom");module.exports={add:addKeyword,get:getKeyword,remove:removeKeyword};