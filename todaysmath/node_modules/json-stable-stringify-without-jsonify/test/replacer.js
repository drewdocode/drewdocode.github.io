var test=require("tape"),stringify=require("../");test("replace root",function(e){e.plan(1);var n={a:1,b:2,c:!1},r=function(e,n){return"one"};e.equal(stringify(n,{replacer:r}),'"one"')}),test("replace numbers",function(e){e.plan(1);var n={a:1,b:2,c:!1},r=function(e,n){return 1===n?"one":2===n?"two":n};e.equal(stringify(n,{replacer:r}),'{"a":"one","b":"two","c":false}')}),test("replace with object",function(e){e.plan(1);var n={a:1,b:2,c:!1},r=function(e,n){return"b"===e?{d:1}:1===n?"one":n};e.equal(stringify(n,{replacer:r}),'{"a":"one","b":{"d":"one"},"c":false}')}),test("replace with undefined",function(e){e.plan(1);var n={a:1,b:2,c:!1},r=function(e,n){if(!1!==n)return n};e.equal(stringify(n,{replacer:r}),'{"a":1,"b":2}')}),test("replace with array",function(e){e.plan(1);var n={a:1,b:2,c:!1},r=function(e,n){return"b"===e?["one","two"]:n};e.equal(stringify(n,{replacer:r}),'{"a":1,"b":["one","two"],"c":false}')}),test("replace array item",function(e){e.plan(1);var n={a:1,b:2,c:[1,2]},r=function(e,n){return 1===n?"one":2===n?"two":n};e.equal(stringify(n,{replacer:r}),'{"a":"one","b":"two","c":["one","two"]}')});