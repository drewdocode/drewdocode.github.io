function Mark(t,i,n,e,o){this.name=t,this.buffer=i,this.position=n,this.line=e,this.column=o}var common=require("./common");Mark.prototype.getSnippet=function(t,i){var n,e,o,r,s;if(!this.buffer)return null;for(t=t||4,i=i||75,n="",e=this.position;e>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(e-1));)if(e-=1,this.position-e>i/2-1){n=" ... ",e+=5;break}for(o="",r=this.position;r<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(r));)if((r+=1)-this.position>i/2-1){o=" ... ",r-=5;break}return s=this.buffer.slice(e,r),common.repeat(" ",t)+n+s+o+"\n"+common.repeat(" ",t+this.position-e+n.length)+"^"},Mark.prototype.toString=function(t){var i,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(i=this.getSnippet())&&(n+=":\n"+i),n},module.exports=Mark;