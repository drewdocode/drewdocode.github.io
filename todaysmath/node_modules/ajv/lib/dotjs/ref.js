module.exports=function(r,e,a){var s,o,t=" ",i=r.level,l=r.dataLevel,c=r.schema[e],n=r.errSchemaPath+"/"+e,v=!r.opts.allErrors,h="data"+(l||""),f="valid"+i;if("#"==c||"#/"==c)r.isRoot?(s=r.async,o="validate"):(s=!0===r.root.schema.$async,o="root.refVal[0]");else{var d=r.resolveRef(r.baseId,c,r.isRoot);if(void 0===d){var p=r.MissingRefError.message(r.baseId,c);if("fail"==r.opts.missingRefs){r.logger.error(p);var m=m||[];m.push(t),t="",!1!==r.createErrors?(t+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(n)+" , params: { ref: '"+r.util.escapeQuotes(c)+"' } ",!1!==r.opts.messages&&(t+=" , message: 'can\\'t resolve reference "+r.util.escapeQuotes(c)+"' "),r.opts.verbose&&(t+=" , schema: "+r.util.toQuotedString(c)+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var u=t;t=m.pop(),!r.compositeRule&&v?r.async?t+=" throw new ValidationError(["+u+"]); ":t+=" validate.errors = ["+u+"]; return false; ":t+=" var err = "+u+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v&&(t+=" if (false) { ")}else{if("ignore"!=r.opts.missingRefs)throw new r.MissingRefError(r.baseId,c,p);r.logger.warn(p),v&&(t+=" if (true) { ")}}else if(d.inline){var E=r.util.copy(r);E.level++;var g="valid"+E.level;E.schema=d.schema,E.schemaPath="",E.errSchemaPath=c;var y=r.validate(E).replace(/validate\.schema/g,d.code);t+=" "+y+" ",v&&(t+=" if ("+g+") { ")}else s=!0===d.$async,o=d.code}if(o){var m=m||[];m.push(t),t="",r.opts.passContext?t+=" "+o+".call(this, ":t+=" "+o+"( ",t+=" "+h+", (dataPath || '')",'""'!=r.errorPath&&(t+=" + "+r.errorPath);t+=" , "+(l?"data"+(l-1||""):"parentData")+" , "+(l?r.dataPathArr[l]:"parentDataProperty")+", rootData)  ";var P=t;if(t=m.pop(),s){if(!r.async)throw new Error("async schema referenced by sync schema");v&&(t+=" var "+f+"; "),t+=" try { "+r.yieldAwait+" "+P+"; ",v&&(t+=" "+f+" = true; "),t+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",v&&(t+=" "+f+" = false; "),t+=" } ",v&&(t+=" if ("+f+") { ")}else t+=" if (!"+P+") { if (vErrors === null) vErrors = "+o+".errors; else vErrors = vErrors.concat("+o+".errors); errors = vErrors.length; } ",v&&(t+=" else { ")}return t};