module.exports=function(a,r,t){var e=" ",o=a.level,s=a.dataLevel,i=a.schema[r],n=a.schemaPath+a.util.getProperty(r),f=a.errSchemaPath+"/"+r,c=!a.opts.allErrors,l="data"+(s||"");if(!1===a.opts.format)return c&&(e+=" if (true) { "),e;var m,u=a.opts.$data&&i&&i.$data;u?(e+=" var schema"+o+" = "+a.util.getData(i.$data,s,a.dataPathArr)+"; ",m="schema"+o):m=i;var h=a.opts.unknownFormats,d=Array.isArray(h);if(u){var v="format"+o,p="isObject"+o,y="formatType"+o;e+=" var "+v+" = formats["+m+"]; var "+p+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+y+" = "+p+" && "+v+".type || 'string'; if ("+p+") { ",a.async&&(e+=" var async"+o+" = "+v+".async; "),e+=" "+v+" = "+v+".validate; } if (  ",u&&(e+=" ("+m+" !== undefined && typeof "+m+" != 'string') || "),e+=" (","ignore"!=h&&(e+=" ("+m+" && !"+v+" ",d&&(e+=" && self._opts.unknownFormats.indexOf("+m+") == -1 "),e+=") || "),e+=" ("+v+" && "+y+" == '"+t+"' && !(typeof "+v+" == 'function' ? ",a.async?e+=" (async"+o+" ? "+a.yieldAwait+" "+v+"("+l+") : "+v+"("+l+")) ":e+=" "+v+"("+l+") ",e+=" : "+v+".test("+l+"))))) {"}else{var v=a.formats[i];if(!v){if("ignore"==h)return a.logger.warn('unknown format "'+i+'" ignored in schema at path "'+a.errSchemaPath+'"'),c&&(e+=" if (true) { "),e;if(d&&h.indexOf(i)>=0)return c&&(e+=" if (true) { "),e;throw new Error('unknown format "'+i+'" is used in schema at path "'+a.errSchemaPath+'"')}var p="object"==typeof v&&!(v instanceof RegExp)&&v.validate,y=p&&v.type||"string";if(p){var g=!0===v.async;v=v.validate}if(y!=t)return c&&(e+=" if (true) { "),e;if(g){if(!a.async)throw new Error("async format in sync schema");var w="formats"+a.util.getProperty(i)+".validate";e+=" if (!("+a.yieldAwait+" "+w+"("+l+"))) { "}else{e+=" if (! ";var w="formats"+a.util.getProperty(i);p&&(w+=".validate"),e+="function"==typeof v?" "+w+"("+l+") ":" "+w+".test("+l+") ",e+=") { "}}var P=P||[];P.push(e),e="",!1!==a.createErrors?(e+=" { keyword: 'format' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(f)+" , params: { format:  ",e+=u?""+m:""+a.util.toQuotedString(i),e+="  } ",!1!==a.opts.messages&&(e+=" , message: 'should match format \"",e+=u?"' + "+m+" + '":""+a.util.escapeQuotes(i),e+="\"' "),a.opts.verbose&&(e+=" , schema:  ",e+=u?"validate.schema"+n:""+a.util.toQuotedString(i),e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var E=e;return e=P.pop(),!a.compositeRule&&c?a.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",c&&(e+=" else { "),e};