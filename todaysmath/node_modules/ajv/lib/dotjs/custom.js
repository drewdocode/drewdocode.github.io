module.exports=function(r,a,e){var t,s,o=" ",i=r.level,d=r.dataLevel,l=r.schema[a],h=r.schemaPath+r.util.getProperty(a),v=r.errSchemaPath+"/"+a,c=!r.opts.allErrors,n="data"+(d||""),m="valid"+i,u="errs__"+i,p=r.opts.$data&&l&&l.$data;p?(o+=" var schema"+i+" = "+r.util.getData(l.$data,d,r.dataPathArr)+"; ",s="schema"+i):s=l;var f,P,y,E,w,k=this,g="definition"+i,R=k.definition,S="";if(p&&R.$data){w="keywordValidate"+i;var A=R.validateSchema;o+=" var "+g+" = RULES.custom['"+a+"'].definition; var "+w+" = "+g+".validate;"}else{if(!(E=r.useCustomRule(k,l,r.schema,r)))return;s="validate.schema"+h,w=E.code,f=R.compile,P=R.inline,y=R.macro}var b=w+".errors",$="i"+i,D="ruleErr"+i,V=R.async;if(V&&!r.async)throw new Error("async keyword in sync schema");if(P||y||(o+=b+" = null;"),o+="var "+u+" = errors;var "+m+";",p&&R.$data&&(S+="}",o+=" if ("+s+" === undefined) { "+m+" = true; } else { ",A&&(S+="}",o+=" "+m+" = "+g+".validateSchema("+s+"); if ("+m+") { ")),P)R.statements?o+=" "+E.validate+" ":o+=" "+m+" = "+E.validate+"; ";else if(y){var x=r.util.copy(r),S="";x.level++;var C="valid"+x.level;x.schema=E.validate,x.schemaPath="";var L=r.compositeRule;r.compositeRule=x.compositeRule=!0;var Q=r.validate(x).replace(/validate\.schema/g,w);r.compositeRule=x.compositeRule=L,o+=" "+Q}else{var _=_||[];_.push(o),o="",o+="  "+w+".call( ",r.opts.passContext?o+="this":o+="self",f||!1===R.schema?o+=" , "+n+" ":o+=" , "+s+" , "+n+" , validate.schema"+r.schemaPath+" ",o+=" , (dataPath || '')",'""'!=r.errorPath&&(o+=" + "+r.errorPath);var U=d?"data"+(d-1||""):"parentData",j=d?r.dataPathArr[d]:"parentDataProperty";o+=" , "+U+" , "+j+" , rootData )  ";var q=o;o=_.pop(),!1===R.errors?(o+=" "+m+" = ",V&&(o+=""+r.yieldAwait),o+=q+"; "):V?(b="customErrors"+i,o+=" var "+b+" = null; try { "+m+" = "+r.yieldAwait+q+"; } catch (e) { "+m+" = false; if (e instanceof ValidationError) "+b+" = e.errors; else throw e; } "):o+=" "+b+" = null; "+m+" = "+q+"; "}if(R.modifying&&(o+=" if ("+U+") "+n+" = "+U+"["+j+"];"),o+=""+S,R.valid)c&&(o+=" if (true) { ");else{o+=" if ( ",void 0===R.valid?(o+=" !",o+=y?""+C:""+m):o+=" "+!R.valid+" ",o+=") { ",t=k.keyword;var _=_||[];_.push(o),o="";var _=_||[];_.push(o),o="",!1!==r.createErrors?(o+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(v)+" , params: { keyword: '"+k.keyword+"' } ",!1!==r.opts.messages&&(o+=" , message: 'should pass \""+k.keyword+"\" keyword validation' "),r.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+n+" "),o+=" } "):o+=" {} ";var z=o;o=_.pop(),!r.compositeRule&&c?r.async?o+=" throw new ValidationError(["+z+"]); ":o+=" validate.errors = ["+z+"]; return false; ":o+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=o;o=_.pop(),P?R.errors?"full"!=R.errors&&(o+="  for (var "+$+"="+u+"; "+$+"<errors; "+$+"++) { var "+D+" = vErrors["+$+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+v+'"; } ',r.opts.verbose&&(o+=" "+D+".schema = "+s+"; "+D+".data = "+n+"; "),o+=" } "):!1===R.errors?o+=" "+B+" ":(o+=" if ("+u+" == errors) { "+B+" } else {  for (var "+$+"="+u+"; "+$+"<errors; "+$+"++) { var "+D+" = vErrors["+$+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+v+'"; } ',r.opts.verbose&&(o+=" "+D+".schema = "+s+"; "+D+".data = "+n+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==r.createErrors?(o+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(v)+" , params: { keyword: '"+k.keyword+"' } ",!1!==r.opts.messages&&(o+=" , message: 'should pass \""+k.keyword+"\" keyword validation' "),r.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+n+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&c&&(r.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===R.errors?o+=" "+B+" ":(o+=" if (Array.isArray("+b+")) { if (vErrors === null) vErrors = "+b+"; else vErrors = vErrors.concat("+b+"); errors = vErrors.length;  for (var "+$+"="+u+"; "+$+"<errors; "+$+"++) { var "+D+" = vErrors["+$+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+r.errorPath+";  "+D+'.schemaPath = "'+v+'";  ',r.opts.verbose&&(o+=" "+D+".schema = "+s+"; "+D+".data = "+n+"; "),o+=" } } else { "+B+" } "),o+=" } ",c&&(o+=" else { ")}return o};