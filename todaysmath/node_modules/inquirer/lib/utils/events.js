function normalizeKeypressEvents(e,r){return{value:e,key:r||{}}}var rx=require("rx-lite-aggregates");module.exports=function(e){var r=rx.Observable.fromEvent(e.input,"keypress",normalizeKeypressEvents).filter(function(e){return"enter"!==e.key.name&&"return"!==e.key.name});return{line:rx.Observable.fromEvent(e,"line"),keypress:r,normalizedUpKey:r.filter(function(e){return"up"===e.key.name||"k"===e.key.name||"p"===e.key.name&&e.key.ctrl}).share(),normalizedDownKey:r.filter(function(e){return"down"===e.key.name||"j"===e.key.name||"n"===e.key.name&&e.key.ctrl}).share(),numberKey:r.filter(function(e){return e.value&&"123456789".indexOf(e.value)>=0}).map(function(e){return Number(e.value)}).share(),spaceKey:r.filter(function(e){return e.key&&"space"===e.key.name}).share(),aKey:r.filter(function(e){return e.key&&"a"===e.key.name}).share(),iKey:r.filter(function(e){return e.key&&"i"===e.key.name}).share()}};