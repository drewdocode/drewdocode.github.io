function baseArity(r,n){return 2==n?function(n,e){return r.apply(void 0,arguments)}:function(n){return r.apply(void 0,arguments)}}function baseAry(r,n){return 2==n?function(n,e){return r(n,e)}:function(n){return r(n)}}function cloneArray(r){for(var n=r?r.length:0,e=Array(n);n--;)e[n]=r[n];return e}function createCloner(r){return function(n){return r({},n)}}function flatSpread(r,n){return function(){for(var e=arguments.length,t=e-1,a=Array(e);e--;)a[e]=arguments[e];var i=a[n],u=a.slice(0,n);return i&&push.apply(u,i),n!=t&&push.apply(u,a.slice(n+1)),r.apply(this,u)}}function wrapImmutable(r,n){return function(){var e=arguments.length;if(e){for(var t=Array(e);e--;)t[e]=arguments[e];var a=t[0]=n.apply(void 0,t);return r.apply(void 0,t),a}}}function baseConvert(r,n,e,t){function a(r,n){if(d.cap){var e=mapping.iterateeRearg[r];if(e)return y(n,e);var t=!m&&mapping.iterateeAry[r];if(t)return l(n,t)}return n}function i(r,n,e){return b||d.curry&&e>1?w(n,e):n}function u(r,n,e){if(d.fixed&&(A||!mapping.skipFixed[r])){var t=mapping.methodSpread[r],a=t&&t.start;return void 0===a?E(n,e):flatSpread(n,a)}return n}function o(r,n,e){return d.rearg&&e>1&&(x||!mapping.skipRearg[r])?W(n,mapping.methodRearg[r]||mapping.aryRearg[e]):n}function p(r,n){n=H(n);for(var e=-1,t=n.length,a=t-1,i=j(Object(r)),u=i;null!=u&&++e<t;){var o=n[e],p=u[o];null==p||S(p)||F(p)||T(p)||(u[o]=j(e==a?p:Object(p))),u=u[o]}return i}function c(r){return B.runInContext.convert(r)(void 0)}function f(r,n){var e=mapping.aliasToReal[r]||r,a=mapping.remap[e]||e,i=t;return function(r){var t=m?I:C,u=m?I[a]:n,o=R(R({},i),r);return baseConvert(t,e,u,o)}}function l(r,n){return g(r,function(r){return"function"==typeof r?baseAry(r,n):r})}function y(r,n){return g(r,function(r){var e=n.length;return baseArity(W(baseAry(r,e),n),e)})}function g(r,n){return function(){var e=arguments.length;if(!e)return r();for(var t=Array(e);e--;)t[e]=arguments[e];var a=d.rearg?0:e-1;return t[a]=n(t[a]),r.apply(void 0,t)}}function s(r,n){var e,t=mapping.aliasToReal[r]||r,c=n,l=z[t];return l?c=l(n):d.immutable&&(mapping.mutate.array[t]?c=wrapImmutable(n,cloneArray):mapping.mutate.object[t]?c=wrapImmutable(n,createCloner(n)):mapping.mutate.set[t]&&(c=wrapImmutable(n,p))),M(_,function(r){return M(mapping.aryMethod[r],function(n){if(t==n){var p=mapping.methodSpread[t],f=p&&p.afterRearg;return e=f?u(t,o(t,c,r),r):o(t,u(t,c,r),r),e=a(t,e),e=i(t,e,r),!1}}),!e}),e||(e=c),e==n&&(e=b?w(e,1):function(){return n.apply(this,arguments)}),e.convert=f(t,n),mapping.placeholder[t]&&(v=!0,e.placeholder=n.placeholder=k),e}var v,m="function"==typeof n,h=n===Object(n);if(h&&(t=e,e=n,n=void 0),null==e)throw new TypeError;t||(t={});var d={cap:!("cap"in t)||t.cap,curry:!("curry"in t)||t.curry,fixed:!("fixed"in t)||t.fixed,immutable:!("immutable"in t)||t.immutable,rearg:!("rearg"in t)||t.rearg},b="curry"in t&&t.curry,A="fixed"in t&&t.fixed,x="rearg"in t&&t.rearg,k=m?e:fallbackHolder,I=m?e.runInContext():void 0,C=m?e:{ary:r.ary,assign:r.assign,clone:r.clone,curry:r.curry,forEach:r.forEach,isArray:r.isArray,isError:r.isError,isFunction:r.isFunction,isWeakMap:r.isWeakMap,iteratee:r.iteratee,keys:r.keys,rearg:r.rearg,toInteger:r.toInteger,toPath:r.toPath},E=C.ary,R=C.assign,j=C.clone,w=C.curry,M=C.forEach,O=C.isArray,F=C.isError,S=C.isFunction,T=C.isWeakMap,P=C.keys,W=C.rearg,q=C.toInteger,H=C.toPath,_=P(mapping.aryMethod),z={castArray:function(r){return function(){var n=arguments[0];return O(n)?r(cloneArray(n)):r.apply(void 0,arguments)}},iteratee:function(r){return function(){var n=arguments[0],e=arguments[1],t=r(n,e),a=t.length;return d.cap&&"number"==typeof e?(e=e>2?e-2:1,a&&a<=e?t:baseAry(t,e)):t}},mixin:function(r){return function(n){var e=this;if(!S(e))return r(e,Object(n));var t=[];return M(P(n),function(r){S(n[r])&&t.push([r,e.prototype[r]])}),r(e,Object(n)),M(t,function(r){var n=r[1];S(n)?e.prototype[r[0]]=n:delete e.prototype[r[0]]}),e}},nthArg:function(r){return function(n){var e=n<0?1:q(n)+1;return w(r(n),e)}},rearg:function(r){return function(n,e){var t=e?e.length:0;return w(r(n,e),t)}},runInContext:function(n){return function(e){return baseConvert(r,n(e),t)}}};if(!h)return s(n,e);var B=e,D=[];return M(_,function(r){M(mapping.aryMethod[r],function(r){var n=B[mapping.remap[r]||r];n&&D.push([r,s(r,n)])})}),M(P(B),function(r){var n=B[r];if("function"==typeof n){for(var e=D.length;e--;)if(D[e][0]==r)return;n.convert=f(r,n),D.push([r,n])}}),M(D,function(r){B[r[0]]=r[1]}),B.convert=c,v&&(B.placeholder=k),M(P(B),function(r){M(mapping.realToAlias[r]||[],function(n){B[n]=B[r]})}),B}var mapping=require("./_mapping"),fallbackHolder=require("./placeholder"),push=Array.prototype.push;module.exports=baseConvert;