function getSchema(e,t){for(var r=e.split("/"),n={},i=n,o=1;o<r.length;o++){var a=r[o],p=o==r.length-1;a=unescapeJsonPointer(a);var u=i.properties={},s=void 0;if(/[0-9]+/.test(a)){var c=+a;for(s=i.items=[];c--;)s.push({})}i=p?t:{},u[a]=i,s&&s.push(i)}return n}function unescapeJsonPointer(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var util=require("./_util");module.exports=function e(t){return e.definition={type:"object",macro:function(e){var t=[];for(var r in e)t.push(getSchema(r,e[r]));return{allOf:t}},metaSchema:{type:"object",propertyNames:{type:"string",format:"json-pointer"},additionalProperties:util.metaSchemaRef(t)}},t.addKeyword("deepProperties",e.definition),t};