(function(){function r(r,t){if(r[0]===t)return r.shift();throw new Error("Expected '"+t+"', but got '"+r[0]+"' instead in "+JSON.stringify(r)+".")}function t(r,t){if(r[0]===t)return r.shift()}function n(n,e,u){var i;for(u&&r(n,e[0]),i=[];n.length&&n[0]!==e[1];)i.push(s(n)),t(n,",");return u&&r(n,e[1]),i}function e(r,t){return n(r,["[","]"],t)}function u(r,t){return n(r,["(",")"],t)}function i(n,e){var u,i;for(e&&r(n,"{"),u={};n.length&&(!e||"}"!==n[0]);)i=n.shift(),r(n,":"),u[i]=s(n),t(n,",");return e&&r(n,"}"),u}function s(r){switch(r[0]){case"[":return e(r,!0);case"(":return u(r,!0);case"{":return i(r,!0);default:return r.shift()}}function f(r,t){var n,f,o,c,a,h,l,g;if(n=t[0],f=n.type,o=n.structure,c=r.concat(),1!==t.length||!o&&"Array"!==f&&"Object"!==f?h=s(r):(a="array"===o||"Array"===f?e(r,"["===r[0]):"tuple"===o?u(r,"("===r[0]):i(r,"{"===r[0]),h=r.length?s("array"===o||"Array"===f?(l=c,l.unshift("["),l.push("]"),l):(g=c,g.unshift("("),g.push(")"),g)):a),r.length&&c.length)throw new Error("Unable to parse "+JSON.stringify(c)+" of type "+JSON.stringify(t)+".");return h}var o,c,a;o=require("prelude-ls").reject,c=/\[\]\(\)}{:,/.source,a=RegExp("(\"(?:[^\"]|\\\\\")*\")|('(?:[^']|\\\\')*')|(#.*#)|(/(?:\\\\/|[^/])*/[gimy]*)|(["+c+"])|([^\\s"+c+"]+)|\\s*"),module.exports=function(r,t){var n,e;if(n=o(function(r){return!r||/^\s+$/.test(r)},r.split(a)),!(e=f(n,t)))throw new Error("Error parsing '"+r+"'.");return e}}).call(this);