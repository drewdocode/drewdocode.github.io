function convertTemplatePart(e,t){var r=e[0],a=e[e.length-1],n={type:Token.Template,value:t.slice(r.start,a.end)};return r.loc&&(n.loc={start:r.loc.start,end:a.loc.end}),r.range&&(n.start=r.range[0],n.end=a.range[1],n.range=[n.start,n.end]),n}function TokenTranslator(e,t){this._acornTokTypes=e,this._tokens=[],this._curlyBrace=null,this._code=t}var Token={Boolean:"Boolean",EOF:"<end>",Identifier:"Identifier",Keyword:"Keyword",Null:"Null",Numeric:"Numeric",Punctuator:"Punctuator",String:"String",RegularExpression:"RegularExpression",Template:"Template",JSXIdentifier:"JSXIdentifier",JSXText:"JSXText"};TokenTranslator.prototype={constructor:TokenTranslator,translate:function(e,t){var r=e.type,a=this._acornTokTypes;if(r===a.name)e.type=Token.Identifier,"static"===e.value&&(e.type=Token.Keyword),t.ecmaVersion>5&&("yield"===e.value||"let"===e.value)&&(e.type=Token.Keyword);else if(r===a.semi||r===a.comma||r===a.parenL||r===a.parenR||r===a.braceL||r===a.braceR||r===a.dot||r===a.bracketL||r===a.colon||r===a.question||r===a.bracketR||r===a.ellipsis||r===a.arrow||r===a.jsxTagStart||r===a.incDec||r===a.starstar||r===a.jsxTagEnd||r===a.prefix||r.binop&&!r.keyword||r.isAssign)e.type=Token.Punctuator,e.value=this._code.slice(e.start,e.end);else if(r===a.jsxName)e.type=Token.JSXIdentifier;else if("jsxText"===r.label||r===a.jsxAttrValueToken)e.type=Token.JSXText;else if(r.keyword)"true"===r.keyword||"false"===r.keyword?e.type=Token.Boolean:"null"===r.keyword?e.type=Token.Null:e.type=Token.Keyword;else if(r===a.num)e.type=Token.Numeric,e.value=this._code.slice(e.start,e.end);else if(r===a.string)t.jsxAttrValueToken?(t.jsxAttrValueToken=!1,e.type=Token.JSXText):e.type=Token.String,e.value=this._code.slice(e.start,e.end);else if(r===a.regexp){e.type=Token.RegularExpression;var n=e.value;e.regex={flags:n.flags,pattern:n.pattern},e.value="/"+n.pattern+"/"+n.flags}return e},onToken:function(e,t){function r(){s.push(convertTemplatePart(a._tokens,a._code)),a._tokens=[]}var a=this,n=this._acornTokTypes,s=t.tokens,o=this._tokens;return e.type===n.eof?void(this._curlyBrace&&s.push(this.translate(this._curlyBrace,t))):e.type===n.backQuote?(this._curlyBrace&&(s.push(this.translate(this._curlyBrace,t)),this._curlyBrace=null),o.push(e),void(o.length>1&&r())):e.type===n.dollarBraceL?(o.push(e),void r()):e.type===n.braceR?(this._curlyBrace&&s.push(this.translate(this._curlyBrace,t)),void(this._curlyBrace=e)):e.type===n.template||e.type===n.invalidTemplate?(this._curlyBrace&&(o.push(this._curlyBrace),this._curlyBrace=null),void o.push(e)):(this._curlyBrace&&(s.push(this.translate(this._curlyBrace,t)),this._curlyBrace=null),void s.push(this.translate(e,t)))}},module.exports=TokenTranslator;